import os
import asyncio
import logging
import csv
import io
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup, BotCommand
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, ContextTypes, MessageHandler, filters
import sqlite3
from datetime import datetime

USE_WEBHOOKS = False

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –¢–û–õ–¨–ö–û –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (—É–¥–∞–ª–∏—Ç–µ –∏–∑ –∫–æ–¥–∞!)
BOT_TOKEN = os.environ.get('BOT_TOKEN')

# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ç–æ–∫–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
if not BOT_TOKEN:
    logging.error("‚ùå BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω! –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.")
    exit(1)

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à ID)
ADMIN_IDS = [903690318]  # –í–∞—à ID –≤ Telegram

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
class QuestDatabase:
    def __init__(self):
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        db_path = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'quest.db')
        self.conn = sqlite3.connect(db_path, check_same_thread=False)
        self.create_tables()

    def create_tables(self):
        cursor = self.conn.cursor()
        # –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS items (
                item_code TEXT PRIMARY KEY,
                item_name TEXT NOT NULL,
                points INTEGER NOT NULL,
                description TEXT
            )
        ''')
        # –¢–∞–±–ª–∏—Ü–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS participants (
                user_id INTEGER PRIMARY KEY,
                username TEXT,
                first_name TEXT,
                last_name TEXT,
                registered_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            )
        ''')
        # –¢–∞–±–ª–∏—Ü–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS found_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                user_id INTEGER,
                item_code TEXT,
                found_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY (user_id) REFERENCES participants (user_id),
                FOREIGN KEY (item_code) REFERENCES items (item_code)
            )
        ''')
        self.conn.commit()

    def add_item(self, item_code, item_name, points, description=""):
        cursor = self.conn.cursor()
        cursor.execute('''
            INSERT OR REPLACE INTO items (item_code, item_name, points, description)
            VALUES (?, ?, ?, ?)
        ''', (item_code, item_name, points, description))
        self.conn.commit()

    def register_participant(self, user_id, username, first_name, last_name):
        cursor = self.conn.cursor()
        cursor.execute('''
            INSERT OR IGNORE INTO participants (user_id, username, first_name, last_name)
            VALUES (?, ?, ?, ?)
        ''', (user_id, username, first_name, last_name))
        self.conn.commit()

    def mark_item_found(self, user_id, item_code):
        cursor = self.conn.cursor()
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø—Ä–µ–¥–º–µ—Ç
        cursor.execute('SELECT * FROM items WHERE item_code = ?', (item_code,))
        item = cursor.fetchone()

        if not item:
            return False, "–≠—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç –Ω–µ –±—ã–ª –∑–∞–∫–æ–ª–¥–æ–≤–∞–Ω"

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª –ª–∏ —É–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —ç—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç
        cursor.execute('''
            SELECT * FROM found_items
            WHERE user_id = ? AND item_code = ?
        ''', (user_id, item_code))

        if cursor.fetchone():
            return False, "–¢—ã —É–∂–µ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–ª —ç—Ç–æ —ë–ª–æ—á–Ω–æ–µ —É–∫—Ä–∞—à–µ–Ω–∏–µ. –ü–æ–∏—â–∏ –µ—â—ë!"

        # –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å –æ –Ω–∞–π–¥–µ–Ω–Ω–æ–º –ø—Ä–µ–¥–º–µ—Ç–µ
        cursor.execute('''
            INSERT INTO found_items (user_id, item_code)
            VALUES (?, ?)
        ''', (user_id, item_code))
        self.conn.commit()

        # –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è
        cursor.execute('SELECT first_name FROM participants WHERE user_id = ?', (user_id,))
        user_data = cursor.fetchone()
        user_name = user_data[0] if user_data else "–ò—Å–∫–∞—Ç–µ–ª—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π"

        return True, f"üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, {user_name}! –¢—ã —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–ª: {item[1]}\nüí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: {item[2]} –æ—á–∫–æ–≤"

    def get_user_stats(self, user_id):
        cursor = self.conn.cursor()
        cursor.execute('''
            SELECT COUNT(*), SUM(i.points)
            FROM found_items fi
            JOIN items i ON fi.item_code = i.item_code
            WHERE fi.user_id = ?
        ''', (user_id,))
        result = cursor.fetchone()
        return result[0] or 0, result[1] or 0

    def get_leaderboard(self, limit=10):
        cursor = self.conn.cursor()
        cursor.execute('''
            SELECT p.user_id, p.first_name, p.username,
                   COUNT(fi.item_code) as items_found,
                   SUM(i.points) as total_points
            FROM participants p
            LEFT JOIN found_items fi ON p.user_id = fi.user_id
            LEFT JOIN items i ON fi.item_code = i.item_code
            GROUP BY p.user_id
            ORDER BY total_points DESC, items_found DESC
            LIMIT ?
        ''', (limit,))
        return cursor.fetchall()

    def get_leaderboard_with_ties(self, limit=100):
        """–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ —Å —É—á–µ—Ç–æ–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –æ—á–∫–æ–≤ (–Ω–∏—á—å–∏—Ö)"""
        cursor = self.conn.cursor()
        cursor.execute('''
            SELECT p.user_id, p.first_name, p.username,
                   COUNT(fi.item_code) as items_found,
                   SUM(i.points) as total_points
            FROM participants p
            LEFT JOIN found_items fi ON p.user_id = fi.user_id
            LEFT JOIN items i ON fi.item_code = i.item_code
            GROUP BY p.user_id
            HAVING total_points IS NOT NULL
            ORDER BY total_points DESC, items_found DESC, p.registered_at ASC
        ''')
        all_users = cursor.fetchall()

        # –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –æ—á–∫–∞–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç —Å —É—á–µ—Ç–æ–º –Ω–∏—á—å–∏—Ö
        ranked_users = []
        current_rank = 1
        current_points = None
        current_items = None
        same_rank_count = 0

        for user in all_users:
            user_id, first_name, username, items_found, total_points = user

            if total_points != current_points or items_found != current_items:
                # –ù–æ–≤—ã–π —Ä–∞–Ω–≥
                current_rank += same_rank_count
                same_rank_count = 1
                current_points = total_points
                current_items = items_found
            else:
                # –¢–∞–∫–∏–µ –∂–µ –æ—á–∫–∏ - –¥–µ–ª–∏–º –º–µ—Å—Ç–æ
                same_rank_count += 1

            ranked_users.append((current_rank, user_id, first_name, username, items_found, total_points))

        return ranked_users[:limit] if limit else ranked_users

    # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    def reset_all_statistics(self):
        """–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –≤—Å–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
        cursor = self.conn.cursor()
        cursor.execute('DELETE FROM found_items')
        cursor.execute('DELETE FROM participants')
        self.conn.commit()
        return cursor.rowcount

    def reset_only_progress(self):
        """–°–±—Ä–æ—Å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤)"""
        cursor = self.conn.cursor()
        cursor.execute('DELETE FROM found_items')
        self.conn.commit()
        return cursor.rowcount

    def reset_user_statistics(self, user_id):
        """–°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        cursor = self.conn.cursor()
        cursor.execute('DELETE FROM found_items WHERE user_id = ?', (user_id,))
        self.conn.commit()
        return cursor.rowcount

    def get_all_users(self):
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"""
        cursor = self.conn.cursor()
        cursor.execute('''
            SELECT p.user_id, p.first_name, p.username,
                   COUNT(fi.item_code) as items_found,
                   SUM(i.points) as total_points
            FROM participants p
            LEFT JOIN found_items fi ON p.user_id = fi.user_id
            LEFT JOIN items i ON fi.item_code = i.item_code
            GROUP BY p.user_id
            ORDER BY total_points DESC
        ''')
        return cursor.fetchall()

    def get_all_participants_detailed(self):
        """–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π"""
        cursor = self.conn.cursor()
        cursor.execute('''
            SELECT
                p.user_id,
                p.username,
                p.first_name,
                p.last_name,
                p.registered_at,
                COUNT(fi.item_code) as items_found,
                COALESCE(SUM(i.points), 0) as total_points
            FROM participants p
            LEFT JOIN found_items fi ON p.user_id = fi.user_id
            LEFT JOIN items i ON fi.item_code = i.item_code
            GROUP BY p.user_id
            ORDER BY p.registered_at DESC
        ''')
        return cursor.fetchall()

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
db = QuestDatabase()

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
def is_admin(user_id):
    return user_id in ADMIN_IDS

# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏)
def initialize_sample_items():
    sample_items = [
        ("decoration001", "*–ê–Ω–≥–µ–ª–æ—á–µ–∫*. –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –Ω–∞ —Å–≤–æ—ë–º –ø–æ—Å—Ç—É! –ë–µ–∑ –Ω–µ–≥–æ –≤–µ—Ä—Ö—É—à–∫–∞ —ë–ª–∫–∏ –±—É–¥–µ—Ç –∑–∞–Ω—è—Ç–∞ –æ–¥–∏–Ω–æ–∫–∏–º –∏ –≥—Ä—É—Å—Ç–Ω—ã–º —à–ø–∏–ª–µ–º. –ö—Ç–æ –∂–µ –±—É–¥–µ—Ç —à–µ–ø—Ç–∞—Ç—å –¥–æ–±—Ä—ã–µ –≤–µ—Å—Ç–∏ –°–µ–≤–µ—Ä–Ω–æ–º—É –≤–µ—Ç—Ä—É?", 22),
        ("decoration002", "*–ë–∞–ª–µ—Ä–∏–Ω–∞*. –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ —á–∞—Ä—ã —Å –Ω–µ—ë —Å–Ω—è—Ç—ã! –ë–µ–∑ –Ω–µ—ë —ë–ª–∫–∞ –ª–∏—à–∏—Ç—Å—è –≤—Å–µ–π —Å–≤–æ–µ–π –≥—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ –Ω–µ—É–∫–ª—é–∂–∏–π –ª–µ—Å–Ω–æ–π —Å—É–≥—Ä–æ–±, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–ª—å–∫–æ –∏ –º–æ–∂–µ—Ç, —á—Ç–æ –ø–∞–¥–∞—Ç—å –æ—Ç —Å–∫–≤–æ–∑–Ω—è–∫–∞.", 22),
        ("decoration003", "*–ë—É–º–∞–∂–Ω–∞—è –≥–∏—Ä–ª—è–Ω–¥–∞*. –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –ë–µ–∑ —ç—Ç–æ–π —Ä–∞–¥—É–≥–∏ –∏–∑ –±—É–º–∞–≥–∏ —ë–ª–∫–∞ –∑–∞–±—É–¥–µ—Ç, —á—Ç–æ –æ–Ω–∞ —Ä–æ–¥–æ–º –∏–∑ –¥–µ—Ç—Å—Ç–≤–∞, –∏ –Ω–∞—á–Ω—ë—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫ —Å–µ–±–µ –¥–∏–∑–∞–π–Ω–µ—Ä—Å–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞.", 22),
        ("decoration004", "*–í–µ—Ä—Ö—É—à–∫–∞*. –ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –ï–ª–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å –±—ã –ª—ã—Å–æ–π, –∫–∞–∫ –∫–æ–ª–µ–Ω–∫–∞, –∏ —Å –≥—Ä—É—Å—Ç—å—é —Å–º–æ—Ç—Ä–µ–ª–∞ –±—ã –Ω–∞ –ø–æ—Ç–æ–ª–æ–∫, –º–µ—á—Ç–∞—è –æ —Ö–æ—Ç—å –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –∫–æ—Ä–æ–Ω–µ.", 22),
        ("decoration005", "*–ì–∏—Ä–ª—è–Ω–¥–∞ –∏–∑ –±—É—Å*. –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –í–µ—Ç–≤—è–º –±—ã–ª–æ –±—ã –Ω–µ—á–µ–º –±—Ä—è—Ü–∞—Ç—å –æ—Ç —Å–∫—É–∫–∏. –û–Ω–∏ –±—ã –ø—Ä–æ—Å—Ç–æ –≤–∏—Å–µ–ª–∏, –∞ –±–µ–∑ –ø–µ—Ä–µ–ª–∏–≤–æ–≤ –±—É—Å–∏–Ω –∏—Å—á–µ–∑ –±—ã –∏ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –≥–∏–ø–Ω–æ–∑.", 22),
        ("decoration006", "*–î–µ–≤–æ—á–∫–∞ –≤ —à–∞–ø–∫–µ*. –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞! –ò–Ω–∞—á–µ –∏—Å—á–µ–∑ –±—ã –≥–ª–∞–≤–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —Å–Ω–µ–∂–∫–∞–º –∏ –≥–æ—Ä—è—á–µ–º—É —á–∞—é. –ò –º–∞–ª—å—á–∏–∫—É —Å –∫–æ–Ω—å–∫–∞–º –±—ã–ª–æ –±—ã –Ω–µ —Å –∫–µ–º —Å–æ—Ä–µ–≤–Ω–æ–≤–∞—Ç—å—Å—è –≤ —Å–∫–æ—Ä–æ—Å—Ç–∏.", 22),
        ("decoration007", "*–î–µ–¥ –ú–æ—Ä–æ–∑ –ø–æ–¥ —ë–ª–∫—É*. –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ü–æ–¥–∞—Ä–∫–∏ –º–æ–≥–ª–∏ –±—ã –æ—Å—Ç–∞—Ç—å—Å—è –±–µ–∑ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞ –∏ –Ω–∞—á–∞–ª–∏ –±—ã —Å–∞–º–æ–≤–æ–ª—å–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞—Ç—å—Å—è –µ—â–µ –¥–æ –±–æ—è –∫—É—Ä–∞–Ω—Ç–æ–≤. –•–∞–æ—Å!", 22),
        ("decoration008", "*–î–æ–∂–¥–∏–∫.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –¢–µ–ø–µ—Ä—å —ë–ª–∫–∞ –±—É–¥–µ—Ç —Å—Ç–æ—è—Ç—å ¬´–ø—Ä–∏ –ø–æ–ª–Ω–æ–º –ø–∞—Ä–∞–¥–µ¬ª.", 22),
        ("decoration009", "*–î–æ–º–∏–∫.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ò–Ω–∞—á–µ –≥–Ω–æ–º–∞–º –∏ –º—ã—à–∞—Ç–∞–º –ø—Ä–∏—à–ª–æ—Å—å –±—ã –Ω–æ—á–µ–≤–∞—Ç—å –≤ –≤–∞–ª–µ–Ω–∫–µ, –∞ —ç—Ç–æ –Ω–µ–≥–∏–≥–∏–µ–Ω–∏—á–Ω–æ.", 22),
        ("decoration010", "*–ï–∂–∏–∫.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –¢–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –∫–æ–º—É –Ω–µ–∑–∞–º–µ—Ç–Ω–æ —Ä–∞–∑–≤–µ—à–∏–≤–∞—Ç—å –Ω–∞ —ë–ª–∫–µ —è–±–ª–æ—á–∫–∏ –∏ –≥—Ä–∏–±–æ—á–∫–∏ –∏ –Ω–∞–≤–æ–¥–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤ –∏–≥–æ–ª–∫–∞—Ö?", 22),
        ("decoration011", "*–ï–ª–æ–≤–∞—è –≥–∏—Ä–ª—è–Ω–¥–∞*. –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ —á–∞—Ä—ã, –Ω–∞–ª–æ–∂–µ–Ω–Ω—ã–µ –Ω–∞ –Ω–µ—ë, —Ä–∞–∑–≤–µ—è–Ω—ã! –ë–µ–∑ –Ω–µ—ë —ë–ª–∫–∞ —Å—Ç–∞–ª–∞ –±—ã –ø—Ä–æ—Å—Ç–æ —Ç—ë–º–Ω—ã–º –∏ –∫–æ–ª—é—á–∏–º –æ–±—ä–µ–∫—Ç–æ–º –≤ —É–≥–ª—É –∫–æ–º–Ω–∞—Ç—ã.", 22),
        ("decoration012", "*–ó–≤–µ–∑–¥–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –¢–µ–ø–µ—Ä—å –∞–Ω–≥–µ–ª–æ—á–µ–∫ –Ω–∞ –≤–µ—Ä—Ö—É—à–∫–µ –Ω–µ –±—É–¥–µ—Ç –¥–µ–∑–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∏ –ø–æ–ª–µ—Ç–∏—Ç –≤ –Ω—É–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É.", 22),
        ("decoration013", "*–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–Ω–µ–≥.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ë–µ–∑ –Ω–µ–≥–æ —ë–ª–∫–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞ –±—ã –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –ª–µ—Ç–Ω–µ–π. –ú–æ–≥–ª–∏ –±—ã –¥–∞–∂–µ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –Ω–µ—É–¥–æ–±–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç –≥–æ—Å—Ç–µ–π: ¬´–ê —á—Ç–æ, –∑–∏–º–∞ –æ—Ç–º–µ–Ω–∏–ª–∞—Å—å?¬ª", 22),
        ("decoration014", "*–ö–ª–æ—É–Ω.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ë–µ–∑ –Ω–µ–≥–æ –Ω–∞ —ë–ª–∫–µ –≤–æ—Ü–∞—Ä–∏—Ç—Å—è —Ç–æ—Å–∫–∞. –®–∞—Ä—ã –±—É–¥—É—Ç –≤–∏—Å–µ—Ç—å —Ä–æ–≤–Ω–æ, —Å–æ—Å—É–ª—å–∫–∏ ‚Äî —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ. –ò—Å—á–µ–∑–Ω–µ—Ç –¥—É—Ö –±–µ–∑–±–∞—à–µ–Ω–Ω–æ–≥–æ –≤–µ—Å–µ–ª—å—è.", 22),
        ("decoration015", "*–ö–Ω–∏–≥–∞ —Å–∫–∞–∑–æ–∫.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–∞ —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –¢–µ–ø–µ—Ä—å —É —ë–ª–∫–∏ –±—É–¥–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫–∞. –í—Å–µ —Å–æ–±—ã—Ç–∏—è –º–æ–≥–ª–∏ –±—ã –Ω–∞—á–∞—Ç—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ: –ø–æ–¥–∞—Ä–∫–∏ –¥–æ –∑–∞—Å—Ç–æ–ª—å—è, —Å–æ–Ω –ø–æ—Å–ª–µ —Ç–æ—Å—Ç–∞.", 22),
        ("decoration016", "*–ö–æ–ª–æ–∫–æ–ª—å—á–∏–∫.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –ï–≥–æ –º–æ–ª—á–∞–Ω–∏–µ –ø—Ä–∏–≤–µ–ª–æ –±—ã –∫ —Ç–∏—à–∏–Ω–µ –≤—Å–µ–ª–µ–Ω—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞.", 22),
        ("decoration017", "*–ö–æ–Ω—Ñ–µ—Ç—Ç–∏.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–æ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–æ! –ü—Ä–∞–∑–¥–Ω–∏–∫ —Å—Ç–∞–ª –±—ã —Å—Ç—Ä–æ–≥–∏–º –∏ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–º. –ù–∏–∫–∞–∫–∏—Ö –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö –≤—Å–ø–ª–µ—Å–∫–æ–≤ —Ü–≤–µ—Ç–∞! –¢–æ–ª—å–∫–æ —Å—É—Ä–æ–≤–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è —à–∞—Ä–æ–≤.", 22),
        ("decoration018", "*–ö—É–∫—É—Ä—É–∑–∞.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ ¬´–¶–∞—Ä–∏—Ü–∞ –ø–æ–ª–µ–π¬ª —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏!", 22),
        ("decoration019", "*–ú–∞–ª—å—á–∏–∫ —Å –∫–æ–Ω—å–∫–∞–º–∏.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ë–µ–∑ –Ω–µ–≥–æ –ª—ë–¥ –Ω–∞ –∫–∞—Ç–∫–µ —Å—Ç–∞–Ω–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ —Ä–æ–≤–Ω—ã–º –∏ —Å–∫—É—á–Ω—ã–º. –ù–µ –±—É–¥–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Å–ª–µ–¥–∞ –æ—Ç –∫–æ–Ω—å–∫–æ–≤.", 22),
        ("decoration020", "*–ú–∏—à—É—Ä–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –ò–Ω–∞—á–µ —ë–ª–∫–∞ –ø–æ—Ç–µ—Ä—è–ª–∞ –±—ã 90% —Å–≤–æ–µ–π –±–ª–µ—Å—Ç—è—â–µ–π –º–∞—Å—Å—ã –∏ —Å—Ç–∞–ª–∞ –ø–æ—Ö–æ–∂–∞ –Ω–∞ —Å–∫—Ä–æ–º–Ω—É—é —Å–æ—Ç—Ä—É–¥–Ω–∏—Ü—É –æ—Ñ–∏—Å–∞ –≤ –ø—è—Ç–Ω–∏—Ü—É.", 22),
        ("decoration021", "*–û–≥—É—Ä–µ—Ü.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –≠—Ç–æ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –±–µ–¥—Å—Ç–≤–∏–µ! –ë–µ–∑ –æ–≥—É—Ä—Ü–∞ —ë–ª–∫–∞ –ª–∏—à–∏–ª–∞—Å—å –±—ã —Å–≤–æ–µ–≥–æ –≥–ª–∞–≤–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–∞—Å–∞ –Ω–∞ —Å–ª—É—á–∞–π –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–≥–æ –∑–∞—Å—Ç–æ–ª—å—è.", 22),
        ("decoration022", "*–õ–æ—à–∞–¥–∫–∞.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω–∞ —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ë–µ–∑ –Ω–µ—ë –î–µ–¥ –ú–æ—Ä–æ–∑ –ø–µ—Ä–µ–π–¥–µ—Ç –Ω–∞ –ø–µ—à–µ–µ –ø–µ—Ä–µ–¥–≤–∏–∂–µ–Ω–∏–µ. –ü–æ–¥–∞—Ä–∫–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å—Å—è —Å –æ–≥—Ä–æ–º–Ω—ã–º –æ–ø–æ–∑–¥–∞–Ω–∏–µ–º, –∞ —ç—Ç–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.", 22),
        ("decoration023", "*–ü–µ—Ç—É—à–æ–∫.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ —á–∞—Ä—ã —Å –Ω–µ–≥–æ —Å–Ω—è—Ç—ã! –û–Ω –±—É–¥–∏—Ç —Å–æ–ª–Ω—Ü–µ. –ë–µ–∑ –Ω–µ–≥–æ –ù–æ–≤—ã–π –≥–æ–¥ –º–æ–∂–µ—Ç –ø—Ä–æ—Å–ø–∞—Ç—å –∏ –Ω–∞—á–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ 2 —è–Ω–≤–∞—Ä—è. –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ.", 22),
        ("decoration024", "*–ü–æ–¥–≤–µ—Å–∫–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –ë–µ–∑ —ç—Ç–æ–π –º–µ–ª–æ—á–∏ –≤—Å—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –±—ã–ª–∞ –±—ã –Ω–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∞. –û–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ —ë–ª–∫–∏ —Å—Ç–∞–ª–∞ –±—ã —Ç—è–∂–µ–ª–µ–µ, –∏ –æ–Ω–∞ –∑–∞–≤–∞–ª–∏–ª–∞—Å—å –±—ã –Ω–∞ –±–æ–∫.", 22),
        ("decoration025", "*–ü—Ç–∏—á–∫–∞.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –¢–µ–ø–µ—Ä—å –±—É–¥–µ—Ç –∫–æ–º—É –∫–ª–µ–≤–∞—Ç—å —à–∞—Ä–∏–∫–∏ –Ω–∞ —ë–ª–∫–µ, –ø—Ä–æ–≤–µ—Ä—è—è –∏—Ö –Ω–∞ –ø—Ä–æ—á–Ω–æ—Å—Ç—å.", 22),
        ("decoration026", "*–°–∞–Ω–∫–∏.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω–∏ —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –ë–µ–∑ –Ω–∏—Ö –ø–æ–¥–∞—Ä–∫–∞–º –ø–æ–¥ —ë–ª–∫–æ–π –ø—Ä–∏—à–ª–æ—Å—å –±—ã –¥–æ–±–∏—Ä–∞—Ç—å—Å—è –¥–æ —Å–≤–æ–∏—Ö –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –ø–µ—à–∫–æ–º. –ú–µ–¥–ª–µ–Ω–Ω–æ –∏ –±–µ–∑ –≤—Å—è–∫–æ–≥–æ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–≥–æ —à–∏–∫–∞.", 22),
        ("decoration027", "*–°–≤–µ—á–∏.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã! –ë–µ–∑ –Ω–∏—Ö –¥–∞–∂–µ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –≥–∏—Ä–ª—è–Ω–¥—ã –±—É–¥—É—Ç –≥–æ—Ä–µ—Ç—å –Ω–µ —Ç–∞–∫ –¥—É—à–µ–≤–Ω–æ. –ò—Å—á–µ–∑–Ω–µ—Ç —Ç–æ—Ç —Å–∞–º—ã–π, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, —Ç—Ä–µ–ø–µ—Ç –æ–≥–Ω—è.", 22),
        ("decoration028", "*–ß–∞—à–∫–∞ —Å –±–ª—é–¥—Ü–µ–º.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∏ –Ω–∞–π–¥–µ–Ω—ã! –ò–Ω–∞—á–µ –î–µ–¥ –ú–æ—Ä–æ–∑, —Å–¥–µ–ª–∞–≤ –∫—Ä—É–≥ –ø–æ –¥–æ–º—É, –æ—Å—Ç–∞–ª—Å—è –±—ã –±–µ–∑ –≥–æ—Ä—è—á–µ–≥–æ —á–∞—è.", 22),
        ("decoration029", "*–°–∏–º–≤–æ–ª –≥–æ–¥–∞.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ù–∞—Å—Ç—É–ø–∞—é—â–∏–π –≥–æ–¥ –º–æ–≥ –±—ã –æ–±–∏–¥–µ—Ç—å—Å—è –∏ –≤–º–µ—Å—Ç–æ —É–¥–∞—á–∏ –ø—Ä–∏–Ω—ë—Å –±—ã —Å–ø–ª–æ—à–Ω—ã–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –π–æ–≥—É—Ä—Ç—ã.", 22),
        ("decoration030", "*–°–Ω–µ–≥–æ–≤–∏–∫.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ë–µ–∑ –Ω–µ–≥–æ –≤–µ—Å—å —Å–Ω–µ–≥ –≤–æ –¥–≤–æ—Ä–µ —Ä–µ—à–∏—Ç, —á—Ç–æ –æ–Ω –Ω–∏–∫–æ–º—É –Ω–µ –Ω—É–∂–µ–Ω, –∏ —Ä–∞—Å—Ç–∞–µ—Ç –æ—Ç –æ–±–∏–¥—ã. –ó–∏–º–∞ –æ—Ç–º–µ–Ω–∏—Ç—Å—è.", 22),
        ("decoration031", "*–°–Ω–µ–≥—É—Ä–æ—á–∫–∞ –ø–æ–¥ –µ–ª–∫—É.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞! –ò–Ω–∞—á–µ –î–µ–¥ –ú–æ—Ä–æ–∑ –∑–∞–≥—Ä—É—Å—Ç–∏—Ç –∏ –æ—Ç–¥–∞—Å—Ç –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏ –ø–µ—Ä–≤–æ–º—É –≤—Å—Ç—Ä–µ—á–Ω–æ–º—É.", 22),
        ("decoration032", "*–°–Ω–µ–∂–∏–Ω–∫–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –ë–µ–∑ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ –∫–∞–∂–¥–æ–π —Å–Ω–µ–∂–∏–Ω–∫–∏, —Å–Ω–µ–≥ –∑–∞ –æ–∫–Ω–æ–º —Å—Ç–∞–Ω–µ—Ç –æ–¥–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º, –∫–∞–∫ –±—É–º–∞–≥–∞ –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞.", 22),
        ("decoration033", "*–°–æ–ª–¥–∞—Ç–∏–∫.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –û–Ω –æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–¥–∞—Ä–∫–∏ –æ—Ç –ø–æ—Å—è–≥–∞—Ç–µ–ª—å—Å—Ç–≤ –¥–æ–º–∞—à–Ω–∏—Ö –ø–∏—Ç–æ–º—Ü–µ–≤. –ë–µ–∑ –Ω–µ–≥–æ –∫–æ—Ç —É—Ç–∞—â–∏—Ç –∫–æ–Ω—Ñ–µ—Ç—É –∏ —Å—è–¥–µ—Ç –Ω–∞ —Ç—Ä–æ–Ω –∏–∑ –æ–±–µ—Ä—Ç–æ–∫.", 22),
        ("decoration034", "*–°–æ—Å—É–ª—å–∫–∞.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω–∞ —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –ë–µ–∑ —Å–æ—Å—É–ª–µ–∫ —ë–ª–∫–∞ –±—É–¥–µ—Ç –ø–æ—Ö–æ–∂–∞ –Ω–∞ –∫–∞–∫—Ç—É—Å. –ò—Å—á–µ–∑–Ω–µ—Ç –≥–ª–∞–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç—Ä–µ–≤–æ–≥–∏ –∑–∞ –ª—ã—Å–∏–Ω—É –ø—Ä–æ—Ö–æ–¥—è—â–µ–≥–æ –≥–æ—Å—Ç—è.", 22),
        ("decoration035", "*–ß–∞—Å—ã —Å –∫—É–∫—É—à–∫–æ–π.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–∏ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω—ã! –ë–µ–∑ –Ω–∏—Ö –∫—É–∫—É—à–∫–∞ –±—É–¥–µ—Ç –∫—É–∫–æ–≤–∞—Ç—å –∏–∑ —Å–æ—Å–µ–¥–Ω–µ–≥–æ —à–∫–∞—Ñ–∞, —Å–±–∏–≤–∞—è –≤—Å–µ—Ö —Å —Ç–æ–ª–∫—É. –í—Ä–µ–º—è –Ω–∞—Å—Ç—É–ø–∏–≤—à–µ–≥–æ –≥–æ–¥–∞ –±—É–¥–µ—Ç –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º.", 22),
        ("decoration036", "*–ß–∏–ø–æ–ª–ª–∏–Ω–æ.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –ò–Ω–∞—á–µ –æ–≤–æ—â–∏ –≤ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–µ —É—Å—Ç—Ä–æ–∏–ª–∏ –±—ã –±—É–Ω—Ç, —Ç—Ä–µ–±—É—è –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫–µ.", 22),
        ("decoration037", "*–ë–æ–ª—å—à–æ–π —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π —à–∞—Ä.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ë–µ–∑ –Ω–µ–≥–æ —ë–ª–∫–∞ —Å—Ç–∞–ª–∞ –±—ã –ø–æ—Ö–æ–∂–∞ –Ω–∞ —Ä–µ–¥–∫–∏–π –ª–µ—Å, –≥–¥–µ –≤—Å–µ –¥–µ—Ä–µ–≤—å—è —Ö—É–¥—ã–µ –∏ —á–∞—Ö–ª—ã–µ. –ü—Ä–æ–ø–∞–ª–æ –±—ã –æ—â—É—â–µ–Ω–∏–µ –±–æ–≥–∞—Ç—Å—Ç–≤–∞ –∏ –∏–∑–æ–±–∏–ª–∏—è.", 22),
        ("decoration038", "*–ú–∞–ª–µ–Ω—å–∫–∏–π —Å—Ç–µ–∫–ª—è–Ω–Ω—ã–π —à–∞—Ä–∏–∫.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ë–æ–ª—å—à–∏–µ —à–∞—Ä—ã –±–µ–∑ –Ω–µ–≥–æ –±—É–¥—É—Ç —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –æ–¥–∏–Ω–æ–∫–æ –∏ –Ω–µ–ª–µ–ø–æ. –ù–µ –±—É–¥–µ—Ç –≥–∞—Ä–º–æ–Ω–∏–∏.", 22),
        ("decoration039", "*–©–µ–ª–∫—É–Ω—á–∏–∫.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ë–µ–∑ –Ω–µ–≥–æ –º—ã—à–∏ —É—Å—Ç—Ä–æ–∏–ª–∏ –±—ã –ø–æ–¥ –µ–ª–∫–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –±–∞–Ω–∫–µ—Ç.", 22),
        ("decoration040", "*–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –≥–∏—Ä–ª—è–Ω–¥–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –ë–µ–∑ –Ω–µ—ë —ë–ª–∫–∞ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ —Ç—ë–º–Ω—É—é –º–∞—Å—Å—É, –æ –∫–æ—Ç–æ—Ä—É—é –±—É–¥—É—Ç —Å–ø–æ—Ç—ã–∫–∞—Ç—å—Å—è –≤—Å–µ –≥–æ—Å—Ç–∏, –ø—Ä–∏–Ω–∏–º–∞—è –µ—ë –∑–∞ –ø–æ—Ä—Ç–∞–ª –≤ –¥—Ä—É–≥–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ.", 22),
        ("decoration041", "*–ê–Ω–∞–Ω–∞—Å.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ò–Ω–∞—á–µ - —ç–∫–∑–æ—Ç–∏–∫–∏ –Ω–æ–ª—å. –Å–ª–∫–∞ —Å—Ç–∞–ª–∞ –±—ã —Å—É—Ä–æ–≤—ã–º —Å–µ–≤–µ—Ä–Ω—ã–º —Å–æ–æ—Ä—É–∂–µ–Ω–∏–µ–º, –∏ –º–∞–Ω–¥–∞—Ä–∏–Ω—ã –Ω–∞—á–∞–ª–∏ –±—ã –Ω–µ—Ä–≤–Ω–∏—á–∞—Ç—å.", 22),
        ("decoration042", "*–ë–∞–Ω—Ç.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –ë–µ–∑ –±–∞–Ω—Ç–∞ —ë–ª–∫–∞ —Å—Ç–∞–ª–∞ –±—ã –ø–æ—Ö–æ–∂–∞ –Ω–∞ –ø–æ–¥–∞—Ä–æ–∫ –±–µ–∑ –ª–µ–Ω—Ç–æ—á–∫–∏. –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, –º–æ–∂–Ω–æ –ª–∏ –µ–≥–æ —É–∂–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏–ª–∏ –µ—â—ë –Ω–µ—Ç.", 22),
        ("decoration043", "*–ë–∞—à–º–∞—á–æ–∫.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ó–æ–ª—É—à–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å –±—ã –±–µ–∑ –ª—é–±–∏–º–æ–π –æ–±—É–≤–∏.", 22),
        ("decoration044", "*–§–æ–Ω–∞—Ä—å.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –í —Ç–µ–º–Ω–æ—Ç–µ –º–µ–∂–¥—É –≤–µ—Ç–≤—è–º–∏ –º–æ–≥—É—Ç –∑–∞–≤–µ—Å—Ç–∏—Å—å —Ç–∞–π–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –ª—É—á—à–µ –Ω–µ –∑–Ω–∞—Ç—å. –§–æ–Ω–∞—Ä—å ‚Äî —ç—Ç–æ —Å—Ç—Ä–∞–∂ –µ–ª–æ—á–Ω–æ–≥–æ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è.", 22),
        ("decoration045", "*–ë—É–±–µ–Ω—Ü—ã.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–∏ –Ω–∞–π–¥–µ–Ω—ã! –ë–µ–∑ –Ω–∏—Ö –¥–∞–∂–µ —Ç–∏—Ö–∏–π —Å–º–µ—Ö –±—É–¥–µ—Ç –∑–≤—É—á–∞—Ç—å –æ–≥–ª—É—à–∏—Ç–µ–ª—å–Ω–æ –≥—Ä–æ–º–∫–æ –≤ –∑–≤–µ–Ω—è—â–µ–π —Ç–∏—à–∏–Ω–µ. –ù–∞—Ä—É—à–∏—Ç—Å—è –≤–µ—Å—å –∑–≤—É–∫–æ–≤–æ–π –ª–∞–Ω–¥—à–∞—Ñ—Ç –ø—Ä–∞–∑–¥–Ω–∏–∫–∞.", 22),
        ("decoration046", "*–ë—É–º–∞–∂–Ω—ã–π —Ñ–æ–Ω–∞—Ä–∏–∫.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ò–Ω–∞—á–µ –∏—Å—á–µ–∑–Ω–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –∑–∞–≥–∞–¥–∞–Ω–Ω—ã—Ö –∂–µ–ª–∞–Ω–∏–π –∫ –∑–≤–µ–∑–¥–µ. –û–Ω–∏ –±—É–¥—É—Ç –±–æ–ª—Ç–∞—Ç—å—Å—è –≤ –≤–æ–∑–¥—É—Ö–µ, –Ω–µ –∑–Ω–∞—è –∫—É–¥–∞ –ª–µ—Ç–µ—Ç—å.", 22),
        ("decoration047", "*–í–µ–¥—ë—Ä–∫–æ –º—ë–¥–∞.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–æ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–æ! –í–∏–Ω–Ω–∏-–ü—É—Ö –∑–∞–≥–ª—è–Ω–µ—Ç –ø–æ–¥ –µ–ª–∫—É, –Ω–∞–π–¥–µ—Ç –µ–≥–æ –∏ —É–π–¥–µ—Ç —Å—á–∞—Å—Ç–ª–∏–≤—ã–º. –í–µ–¥—å —Å –≥—Ä—É—Å—Ç–Ω—ã–º –º–µ–¥–≤–µ–¥–µ–º –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫ –Ω–µ –≤ —Ä–∞–¥–æ—Å—Ç—å.", 22),
        ("decoration048", "*–ú–∞—à–∏–Ω–∫–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –ò–Ω–∞—á–µ –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏-–º–∞—à–∏–Ω–∫–∏ –ø–æ–¥ —ë–ª–∫–æ–π –ø–æ—á—É–≤—Å—Ç–≤—É—é—Ç —Å–µ–±—è —Å–∏—Ä–æ—Ç–∞–º–∏ –∏ –æ—Ç–∫–∞–∂—É—Ç—Å—è –∑–∞–≤–æ–¥–∏—Ç—å—Å—è.", 22),
        ("decoration049", "*–í–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞! –ë–µ–∑ –Ω–µ—ë –Ω–∏–∫—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç –≤ –ø–æ–ª–Ω–æ—á—å —à–µ–ø–Ω—É—Ç—å —Å–∞–ª–∞—Ç—É –æ–ª–∏–≤—å–µ, —á—Ç–æ–±—ã –æ–Ω —Å—Ç–∞–ª –≤–∫—É—Å–Ω–µ–µ. –†–∏—Å–∫–æ–≤–∞–Ω–Ω–æ.", 22),
        ("decoration050", "*–ú—ã—à–∫–∞.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –ë–µ–∑ –º—ã—à–∫–∏ –∫–æ—Ç –±—É–¥–µ—Ç –±–µ—Å—Ü–µ–ª—å–Ω–æ –±—Ä–æ–¥–∏—Ç—å –≤–æ–∫—Ä—É–≥ –µ–ª–∫–∏, —Å–±–∏–≤–∞—è —à–∞—Ä—ã —Ö–≤–æ—Å—Ç–æ–º, –∏ —Å—ä–µ—Å—Ç –≤–µ—Å—å –¥–æ–∂–¥–∏–∫.", 22),
        ("decoration051", "*–ì–Ω–æ–º.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ü—Ä–æ–ø–∞–¥–µ—Ç –≥–ª–∞–≤–Ω—ã–π –±–æ—Ä–æ–¥–∞—á, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ –º–∞–≥–∏—é –≤ –Ω–∏–∂–Ω–µ–º —è—Ä—É—Å–µ —ë–ª–∫–∏ ‚Äì –∏ –≤—Å—ë, –ø–æ–¥–∞—Ä–∫–∏ –º–æ–≥—É—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –Ω–µ –∑–∞—á–∞—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞ —É–¥–∞—á—É.", 22),
        ("decoration052", "*–ú–µ–¥–≤–µ–∂–æ–Ω–æ–∫.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –ò—Å—á–µ–∑–Ω–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–º –æ–±—ä—è—Ç–∏—è–º. –Å–ª–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –∏ —Ö–æ–ª–æ–¥–Ω–æ.", 22),
        ("decoration053", "*–ì—Ä–∏–±-–º—É—Ö–æ–º–æ—Ä.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ë–µ–∑ —ç—Ç–æ–≥–æ —Ç–æ–∫—Å–∏—á–Ω–æ–≥–æ –∫—Ä–∞—Å–∞–≤—Ü–∞ —ë–ª–∫–∞ —Å—Ç–∞–Ω–µ—Ç —Å–ª–∏—à–∫–æ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∏ —Å–∫—É—á–Ω–æ–π. –ù–∏–∫–∞–∫–æ–π –¥–æ–ª–∏ —Å–∫–∞–∑–æ—á–Ω–æ–≥–æ —Ä–∏—Å–∫–∞!", 22),
        ("decoration054", "*–î—Ä–∞–∫–æ–Ω.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ì–æ–¥ –î—Ä–∞–∫–æ–Ω–∞ –Ω–µ –Ω–∞—á–Ω–µ—Ç—Å—è, –µ—Å–ª–∏ –µ–≥–æ —Å–∏–º–≤–æ–ª –Ω–µ –≤–∏—Å–∏—Ç –Ω–∞ –≤–µ—Ç–∫–µ. –û–Ω –æ—á–µ–Ω—å –æ–±–∏–¥—á–∏–≤—ã–π.", 22),
        ("decoration055", "*–ï–ª–æ–≤–∞—è —à–∏—à–∫–∞.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–∞ —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –Å–ª–∫–∞ –∑–∞–±—É–¥–µ—Ç, —á—Ç–æ –æ–Ω–∞ ‚Äî —ë–ª–∫–∞, –∏ –Ω–∞—á–Ω–µ—Ç —Å–æ–º–Ω–µ–≤–∞—Ç—å—Å—è –≤ —Å–≤–æ–µ–π –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏. –≠–∫–∑–∏—Å—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –∫—Ä–∏–∑–∏—Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω.", 22),
        ("decoration056", "*–ñ–∞—Ä-–ø—Ç–∏—Ü–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –ò–Ω–∞—á–µ –≤—Å–µ –ø–µ—Ä—å—è –Ω–∞ —ë–ª–∫–µ –ø–æ—Ç—É—Å–∫–Ω–µ—é—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ —Å —á–µ–º –±—É–¥–µ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –∏—Ö –±–ª–µ—Å–∫. –û–Ω–∞ –∑–∞–¥–∞—ë—Ç –ø–ª–∞–Ω–∫—É —Å–∏—è–Ω–∏—è.", 22),
        ("decoration057", "*–ñ–µ–ª—É–¥—å.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –ë–µ–ª–æ—á–∫–∞, –ø—Ä–∏—à–µ–¥—à–∞—è –≤ –≥–æ—Å—Ç–∏, —É–π–¥–µ—Ç –Ω–∏ —Å —á–µ–º.", 22),
        ("decoration058", "*–¢–µ—Ä–µ–º–æ–∫.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ò–Ω–∞—á–µ –≤—Å–µ –∑–≤–µ—Ä–∏ —Å —ë–ª–∫–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –±–µ–∑ –æ–±—â–µ–∂–∏—Ç–∏—è –∏ —Ä–∞–∑–±–µ–≥—É—Ç—Å—è –ø–æ —à–∫–∞—Ñ–∞–º, —Å–æ–∑–¥–∞–≤–∞—è —Ö–∞–æ—Å.", 22),
        ("decoration059", "*–ö–∞—Ä–∞–≤–∞–π.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ë–µ–∑ –Ω–µ–≥–æ —Å—Ç–æ–ª –ª–∏—à–∏—Ç—Å—è —Å–≤–æ–µ–≥–æ —Ö–ª–µ–±–Ω–æ–≥–æ –ø–æ–∫—Ä–æ–≤–∏—Ç–µ–ª—è. –í—Å–µ –±–ª—é–¥–∞ –º–æ–≥—É—Ç –ø–æ–¥–≥–æ—Ä–µ—Ç—å –∏–ª–∏ –Ω–µ –ø–æ–¥–Ω—è—Ç—å—Å—è.", 22),
        ("decoration060", "*–ö–æ—Ç–∏–∫.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ë–µ–∑ –∫–æ—Ç–∏–∫–∞ —ë–ª–∫–∞ –ø—Ä–æ—Å—Ç–æ–∏—Ç –≤—Å—é –Ω–æ—á—å. –ù–∏–∫—Ç–æ –Ω–µ –±—É–¥–µ—Ç –µ—ë —Ä–æ–Ω—è—Ç—å –≤ 5 —É—Ç—Ä–∞ –≤ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–π–º–∞—Ç—å –≤–µ—Ä—Ö–Ω–∏–π —à–∞—Ä. –°–∫—É—á–Ω–æ!", 22),
        ("decoration061", "*–ö–æ—Ä–æ–Ω–∞.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –¢–µ–ø–µ—Ä—å —ë–ª–∫–∞ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç —Å–µ–±—è –∫–æ—Ä–æ–ª–µ–≤–æ–π –≤–µ—á–µ—Ä–∞ –∏ —Å—Ç–∞–Ω–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∫ —Å–µ–±–µ –ø–æ—á—Ç–µ–Ω–∏—è.", 22),
        ("decoration062", "*–ö–æ–Ω—å–∫–∏.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã! –ë–µ–∑ –Ω–∏—Ö –ª—ë–¥ –ø–æ–¥ –æ–∫–Ω–æ–º –Ω–µ –±—É–¥–µ—Ç –∑–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–≥—É–ª–∫—É. –û–Ω –ø—Ä–æ—Å—Ç–æ —Å—Ç–∞–Ω–µ—Ç —Ö–æ–ª–æ–¥–Ω—ã–º –∏ —Å–∫–æ–ª—å–∑–∫–∏–º, –±–µ–∑ –Ω–∞–º—ë–∫–∞ –Ω–∞ –≤–µ—Å–µ–ª—å–µ.", 22),
        ("decoration063", "*–ö–æ—Ä–∞–±–ª–∏–∫.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ò–Ω–∞—á–µ –º–µ—á—Ç—ã –æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö —É–ø–ª—ã–≤—É—Ç –≤ –Ω–∏–∫—É–¥–∞, –∏ –≤—Å–µ –∫–∞–Ω–∏–∫—É–ª—ã –ø—Ä–æ–π–¥—É—Ç –Ω–∞ –¥–∏–≤–∞–Ω–µ. –ì—Ä—É—Å—Ç–Ω–æ.", 22),
        ("decoration064", "*–õ–µ–¥–µ–Ω–µ—Ü-—Ç—Ä–æ—Å—Ç–æ—á–∫–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –û–Ω –≥–ª–∞–≤–Ω—ã–π –ø–æ —Å–ª–∞–¥–∫–æ–º—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é. –ë–µ–∑ –Ω–µ–≥–æ –¥–∞–∂–µ —Å–∞—Ö–∞—Ä–Ω–∞—è –ø—É–¥—Ä–∞ –±—É–¥–µ—Ç –Ω–µ —Å–ª–∞–¥–∫–∞—è.", 22),
        ("decoration065", "*–õ–∏—Å–∞.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –ë–µ–∑ —Ö–∏—Ç—Ä–æ–π –ø–ª—É—Ç–æ–≤–∫–∏ –≤—Å–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ —Å—é–∂–µ—Ç—ã –Ω–∞ —ë–ª–∫–µ —Å—Ç–∞–Ω—É—Ç –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–º–∏ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏.", 22),
        ("decoration066", "*–õ—É–∫–æ—à–∫–æ —Å —è–≥–æ–¥–∞–º–∏.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω–æ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–æ! –ë–µ–∑ –Ω–µ–≥–æ –∑–∏–º–æ–π –≤ –ª–µ—Å—É –Ω–µ –±—É–¥–µ—Ç –ª–µ—Ç–Ω–∏—Ö –∑–∞–ø–∞—Å–æ–≤. –ë–µ–ª–æ—á–∫–∏ –∏ —ë–∂–∏–∫–∏ –ø–æ–¥–∞–¥—É—Ç –Ω–∞ –≤–∞—Å –≤ —Å—É–¥.", 22),
        ("decoration067", "*–ü–æ–¥–∫–æ–≤–∞.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞! –£–¥–∞—á–∞, –ø—Ä–∏–≤–ª–µ–∫–∞–µ–º–∞—è –µ–ª–∫–æ–π, —Ç–µ–ø–µ—Ä—å –Ω–µ –ø—Ä–æ—Å–∫–æ–ª—å–∑–Ω—ë—Ç –º–∏–º–æ.", 22),
        ("decoration068", "*–ú–∞—Ç—Ä—ë—à–∫–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ë–µ–∑ –Ω–µ—ë —ë–ª–∫–∞ –ø–æ—Ç–µ—Ä—è–µ—Ç —Å–≤—è–∑—å —Å –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∫–æ–ª–æ—Ä–∏—Ç–æ–º –∏ –º–æ–∂–µ—Ç –∑–∞–≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º.", 22),
        ("decoration069", "*–Ø–±–ª–æ–∫–æ.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–æ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–æ! –ü—Ä–∞—Ä–æ–¥–∏—Ç–µ–ª—å —à–∞—Ä–∞! –ë–µ–∑ –Ω–µ–≥–æ –≤—Å–µ —à–∞—Ä—ã –Ω–∞ —ë–ª–∫–µ –∑–∞–±—É–¥—É—Ç —Å–≤–æ–∏ –∫–æ—Ä–Ω–∏ –∏ –≤–æ–∑–æ–º–Ω—è—Ç —Å–µ–±—è —Ö—Ä—É—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Å—Ñ–µ—Ä–∞–º–∏.", 22),
        ("decoration070", "*–û–ª–æ–≤—è–Ω–Ω—ã–π —Å–æ–ª–¥–∞—Ç–∏–∫.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –û–Ω —Å—Ç–æ–∏—Ç –Ω–∞ –ø–æ—Å—Ç—É. –ë–µ–∑ –Ω–µ–≥–æ –±—É–º–∞–∂–Ω–∞—è –±–∞–ª–µ—Ä–∏–Ω–∞ —Å —Å–æ—Å–µ–¥–Ω–µ–π –≤–µ—Ç–∫–∏ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –∏ –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è.", 22),
        ("decoration071", "*–ü–∞—Ä—É—Å–Ω–∏–∫.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ë–µ–∑ –Ω–µ–≥–æ –≤—Å–µ –º–µ—á—Ç—ã –æ –ª–µ—Ç–µ —É–ø–ª—ã–≤—É—Ç, –∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã –±—É–¥–µ—Ç–µ –≤—Å—é –∑–∏–º—É –º–µ—á—Ç–∞—Ç—å –æ —Ç–µ–ø–ª–æ–º –ø–ª–µ–¥–µ –∏ –≥—Ä–µ–ª–∫–µ.", 22),
        ("decoration072", "*–ü–∏—Ä–∞–º–∏–¥–∫–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –ò–Ω–∞—á–µ –¥–µ—Ç–∏ –Ω–µ –Ω–∞–π–¥—É—Ç –Ω–∞ —ë–ª–∫–µ –Ω–∏—á–µ–≥–æ —Ä–æ–¥–Ω–æ–≥–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ–≥–æ, –∞ –ø–æ—Ç–æ–º—É –æ–±—ä—è–≤—è—Ç –µ—ë ¬´–≤–∑—Ä–æ—Å–ª–æ–π –∏ —Å–∫—É—á–Ω–æ–π¬ª.", 22),
        ("decoration073", "*–ü—Ä—è–Ω–∏—á–Ω—ã–π —á–µ–ª–æ–≤–µ—á–µ–∫.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –Å–ª–∫–∞ –Ω–∞—á–Ω—ë—Ç –ø–∞—Ö–Ω—É—Ç—å –∏–º–±–∏—Ä—ë–º –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º.", 22),
        ("decoration074", "*–†–æ–∑–æ–≤—ã–π —Ñ–ª–∞–º–∏–Ω–≥–æ.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –ò–Ω–∞—á–µ –∏—Å—á–µ–∑–Ω–µ—Ç —Ç—Ä–æ–ø–∏—á–µ—Å–∫–∏–π —à–∏–∫. –Å–ª–∫–∞ —Å—Ç–∞–Ω–µ—Ç —Å—É—Ä–æ–≤–æ–π —Å–∏–±–∏—Ä—è—á–∫–æ–π, –∏ –≤–æ–∫—Ä—É–≥ –±—É–¥—É—Ç –∫—Ä—É—Ç–∏—Ç—å –±–∞–ª–µ—Ç ¬´–©–µ–ª–∫—É–Ω—á–∏–∫¬ª –≤ –≤–∞–ª–µ–Ω–∫–∞—Ö.", 22),
        ("decoration075", "*–°–∞–º–æ–≤–∞—Ä.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –ë–µ–∑ –Ω–µ–≥–æ –≤—Å–µ —á–∞–∏, –≤—ã–ø–∏—Ç—ã–µ –∑–∞ –ø—Ä–∞–∑–¥–Ω–∏–∫, –±—É–¥—É—Ç –Ω–µ —Ç–∞–∫–∏–º —Å–æ–≥—Ä–µ–≤–∞—é—â–∏–º–∏. –≠—Ç–æ —Ñ–∞–∫—Ç, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —Ñ–∏–∑–∏–∫–∞–º–∏.", 22),
        ("decoration076", "*–ö—É–∫–ª–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞! –ë–µ–∑ –∫—É–∫–ª—ã –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥—Ä—É—à–∫–∏ –±—É–¥—É—Ç —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Å–µ–±—è –Ω–µ –≤ —Å–≤–æ–µ–π —Ç–∞—Ä–µ–ª–∫–µ, –∫–∞–∫ –Ω–∞ –≤–µ—á–µ—Ä–∏–Ω–∫–µ, –≥–¥–µ –≤—Å–µ –≤ –∫–æ—Å—Ç—é–º–∞—Ö, –∞ —Ç—ã –æ–¥–∏–Ω –≤ –ø–∏–∂–∞–º–µ.", 22),
        ("decoration077", "*–ú–∏–∫—Ä–æ—Ñ–æ–Ω.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –ë–µ–∑ –Ω–µ–≥–æ –¥–∞–∂–µ —Å–∞–º—ã–µ –≥—Ä–æ–º–∫–∏–µ –ø–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–æ—Å—Ç—ã –±—É–¥—É—Ç –∑–≤—É—á–∞—Ç—å –∫–∞–∫ —à–µ–ø–æ—Ç. –ö–∞—Ä–∞–æ–∫–µ-–≤–µ—á–µ—Ä–∏–Ω–∫–∞ –ø–æ–¥ —ë–ª–æ—á–Ω—ã–º–∏ –æ–≥–Ω—è–º–∏ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è.", 22),
        ("decoration078", "*–ë–∏–ª—å—è—Ä–¥–Ω—ã–π —à–∞—Ä.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω! –®–∞—Ä—ã –Ω–∞ —ë–ª–∫–µ —Ä–∞–∑–ª–µ–Ω–∏–ª–∏—Å—å, –∏–º –Ω—É–∂–µ–Ω –ª–∏–¥–µ—Ä. –ë–µ–∑ –±–∏–ª—å—è—Ä–¥–Ω–æ–≥–æ —à–∞—Ä–∞ –æ–Ω–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω—É—Ç –¥–µ—Ä–∂–∞—Ç—å —Ñ–æ—Ä–º—É –∏ —Å—Ç–∞–Ω—É—Ç –æ–≤–∞–ª—å–Ω—ã–º–∏.", 22),
        ("decoration079", "*–ü–æ–∫–µ—Ä–Ω–∞—è —Ñ–∏—à–∫–∞.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–∞! –í—Å–µ —Ñ–∏—à–∫–∏ –¥–æ–º–∏–Ω–æ –∏ –ø—Ä–æ—á–∏–µ –Ω–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã –ø–æ–¥ —ë–ª–∫–æ–π –±–µ–∑ –Ω–µ—ë –ø–æ—á—É–≤—Å—Ç–≤—É—é—Ç —Å–µ–±—è –Ω–µ—É–¥–∞—á–Ω–∏–∫–∞–º–∏.", 22),
        ("decoration080", "*–ö–Ω–∏–≥–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞! –ï—Å–ª–∏ –Ω–∞ —ë–ª–∫–µ –Ω–µ—Ç –∫–Ω–∏–≥–∏, —Ç–æ –∏ –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏-–∫–Ω–∏–≥–∏ –ø–æ–¥ –Ω–µ–π –±—É–¥—É—Ç –æ–±–∏–∂–∞—Ç—å—Å—è –∏ —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–º–æ–π —Å–ø–æ–π–ª–µ—Ä–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.", 22),
        ("decoration081", "*–ú–∏—Å–∫–∞ —Å –ø–æ–ø–∫–æ—Ä–Ω–æ–º.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –ë–µ–∑ –Ω–µ—ë –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö —Ñ–∏–ª—å–º–æ–≤ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç–æ —Å–∏–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–º. –ò—Å—á–µ–∑–Ω–µ—Ç –º–∞–≥–∏—è —Ö—Ä—É—Å—Ç–∞.", 22),
        ("decoration082", "*–í–µ–Ω–∏–∫.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ –∑–¥–µ—Å—å! –û–Ω –Ω–µ–∑–∞–º–µ—Ç–Ω–æ –ø–æ–¥–º–µ—Ç–∞–µ—Ç –≤–µ—Å—å —Ç–æ—Ç –º–µ–ª–∫–∏–π –º—É—Å–æ—Ä, —á—Ç–æ –æ—Å—ã–ø–∞–µ—Ç—Å—è —Å —ë–ª–∫–∏ (–∏–≥–æ–ª–∫–∏, –±–ª–µ—Å—Ç–∫–∏, –≥—Ä–µ—Ö). –ë–µ–∑ –Ω–µ–≥–æ –≤ –¥–æ–º–µ –≤–æ—Ü–∞—Ä–∏—Ç—Å—è —Ö–∞–æ—Å.", 22),
        ("decoration083", "*–í–æ–ª–µ–π–±–æ–ª—å–Ω—ã–π –º—è—á.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —à–∞—Ä—ã –Ω–∞ —ë–ª–∫–µ –∑–∞–±—É–¥—É—Ç, —á—Ç–æ –æ–Ω–∏ –µ—â–µ –∏ –¥–ª—è –∏–≥—Ä—ã, –∏ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç—è—Ç—Å—è –≤ —Å–Ω–æ–±–æ–≤.", 22),
        ("decoration084", "*–•—Ä—É—Å—Ç–∞–ª—å–Ω–∞—è —Ç—É—Ñ–µ–ª—å–∫–∞.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω–∞ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–∞! –ë–µ–∑ –Ω–µ—ë –≤—Å—è –æ–±—É–≤—å –≤ –¥–æ–º–µ –ø—Ä–µ–≤—Ä–∞—Ç—è—Ç—Å—è –≤ —Ç—ã–∫–≤—É. –ü—Ä–∏–¥—ë—Ç—Å—è –≤—Å—Ç—Ä–µ—á–∞—Ç—å –ù–æ–≤—ã–π –≥–æ–¥ –±–æ—Å–∏–∫–æ–º.", 22),
        ("decoration085", "*–ö—É–±–∏–∫ –†—É–±–∏–∫–∞.* –ö–∞–∫ —Ö–æ—Ä–æ—à–æ, —á—Ç–æ –æ–Ω –≤–æ–∑–≤—Ä–∞—â—ë–Ω! –ë–µ–∑ –Ω–µ–≥–æ –≤—Å–µ –∑–∞–≥–∞–¥–∫–∏ –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–µ—Ä–∞–∑–≥–∞–¥–∞–Ω–Ω—ã–º–∏, –∞ –∂–µ–ª–∞–Ω–∏—è ‚Äî –Ω–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–º–∏ –ø–æ —Ü–≤–µ—Ç–∞–º.", 22),
        ("decoration086", "*–§–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç.* –û—Ç–ª–∏—á–Ω–æ, —á—Ç–æ –æ–Ω —Å–Ω–æ–≤–∞ —Å –Ω–∞–º–∏! –ë–µ–∑ –Ω–µ–≥–æ –¥–∞–∂–µ —Å–∞–º—ã–µ —É–º–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –∑–∞—Å—Ç–æ–ª—å—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –¥–ª—è —á—ë—Ä–Ω–æ–≥–æ –¥–Ω—è. –ü—Ä–æ–ø–∞–¥—ë—Ç –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤–µ—Å–µ–ª—å—è.", 22),
        ("decoration087", "*–°–µ—Ä–¥–µ—á–∫–æ.* –ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, —á—Ç–æ –æ–Ω–æ —Ä–∞—Å–∫–æ–ª–¥–æ–≤–∞–Ω–æ! –ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –ª–∏—à–µ–Ω–Ω–æ–µ —Å–∏–º–≤–æ–ª–∞ –ª—é–±–≤–∏, —Å—Ç–∞–ª–æ –±—ã –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–¥–ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–π —Å—É–µ—Ç–æ–π.", 22),
        ("decoration088", "*–î–∏—Å–∫–æ-—à–∞—Ä.* –ó–¥–æ—Ä–æ–≤–æ, —á—Ç–æ –æ–Ω –Ω–∞–π–¥–µ–Ω! –î–∞–∂–µ —Å–∞–º–∞—è —è—Ä–∫–∞—è —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è –≥–∏—Ä–ª—è–Ω–¥–∞ –±–µ–∑ –Ω–µ–≥–æ –Ω–µ —Å–º–æ–∂–µ—Ç —É—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â—É—é –¥–∏—Å–∫–æ—Ç–µ–∫—É. –û–≥–æ–Ω—å–∫–∏ –±—É–¥—É—Ç –ø—Ä–æ—Å—Ç–æ –≥–æ—Ä–µ—Ç—å, –∞ –Ω–µ —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å.", 22)
         ]

    for item_code, name, points in sample_items:
        db.add_item(item_code, name, points)

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –≤ –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏
async def set_bot_commands(application: Application):
    commands = [
        BotCommand("start", "–ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç"),
        BotCommand("my_stats", "–ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å"),
        BotCommand("rating", "–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤"),
        BotCommand("help", "–ü–æ–º–æ—â—å"),
    ]
    await application.bot.set_my_commands(commands)

# –ö–æ–º–∞–Ω–¥–∞ /start
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    db.register_participant(user.id, user.username, user.first_name, user.last_name)

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ–¥–∞–Ω –ª–∏ –∫–æ–¥ –ø—Ä–µ–¥–º–µ—Ç–∞ —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫—É
    if context.args:
        item_code = context.args[0]
        success, message = db.mark_item_found(user.id, item_code)

        if success:
            items_found, total_points = db.get_user_stats(user.id)
            # –£–±—Ä–∞–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤ –∫–≤–µ—Å—Ç, –ò–ú–Ø!"
            welcome_text = f"""
üéâ {message}

üìä –¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å:
üéØ –ù–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: {items_found}
üí∞ –í—Å–µ–≥–æ –æ—á–∫–æ–≤: {total_points}

–ò—Å–ø–æ–ª—å–∑—É–π –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –≤–Ω–∏–∑—É –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏!
"""
        else:
            welcome_text = f"""
üëã –ü—Ä–∏–≤–µ—Ç, {user.first_name}!

{message}

–ù–æ —Ç—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –≤ –∏–≥—Ä–µ! üéÆ
"""
    else:
        welcome_text = f"""
üëã –ü—Ä–∏–≤–µ—Ç, {user.first_name}!

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–≤–µ—Å—Ç –ø–æ –ø–æ–∏—Å–∫—É –µ–ª–æ—á–Ω—ã—Ö —É–∫—Ä–∞—à–µ–Ω–∏–π!
–ò—â–∏ QR-–∫–æ–¥—ã, –≤ –∫–æ—Ç–æ—Ä—ã–µ –ë–∞–±–∞ –Ø–≥–∞ –∏ –ö–æ—â–µ–π –ë–µ—Å—Å–º–µ—Ä—Ç–Ω—ã–π –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏ –µ–ª–æ—á–Ω—ã–µ –∏–≥—Ä—É—à–∫–∏, —Å–∫–∞–Ω–∏—Ä—É–π –∏—Ö —Å–≤–æ–∏–º –≤–æ–ª—à–µ–±–Ω—ã–º —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–º –∏ –≤–µ—Ä–Ω–∏ –º–∞–≥–∏—é –ø—Ä–∞–∑–¥–Ω–∏–∫–∞!

üìã –ö–∞–∫ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å:
1. –ù–∞—Ö–æ–¥–∏ —Å–ø—Ä—è—Ç–∞–Ω–Ω—ã–µ –≤ –æ—Ñ–∏—Å–∞—Ö QR-–∫–æ–¥—ã
2. –°–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥—ã –∏ –ø—Ä–µ–≤—Ä–∞—â–∞–π –∏—Ö –≤ —ë–ª–æ—á–Ω—ã–µ —É–∫—Ä–∞—à–µ–Ω–∏—è
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–π –æ—á–∫–∏!
4. –°–ª–µ–¥–∏ –∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–º
5. –°–æ–∑–¥–∞–π –≤–æ–ª—à–µ–±–Ω–æ–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ!

üì± –ò—Å–ø–æ–ª—å–∑—É–π –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º!

–£–¥–∞—á–∏ –≤ –ø–æ–∏—Å–∫–∞—Ö! üïµÔ∏è‚Äç‚ôÇÔ∏è
"""

    keyboard = [
        [InlineKeyboardButton("üìä –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å", callback_data="my_stats")],
        [InlineKeyboardButton("üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤", callback_data="rating")],
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    await update.message.reply_text(welcome_text, reply_markup=reply_markup)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ QR-–∫–æ–¥–æ–≤
async def handle_qr_code(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    item_code = update.message.text.strip()

    success, message = db.mark_item_found(user.id, item_code)

    if success:
        items_found, total_points = db.get_user_stats(user.id)
        # –£–±—Ä–∞–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        message += f"\n\nüìä –¢–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å:\nüéØ –ù–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: {items_found}\nüí∞ –í—Å–µ–≥–æ –æ—á–∫–æ–≤: {total_points}"

        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–∞
        keyboard = [
            [InlineKeyboardButton("üìä –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å", callback_data="my_stats")],
            [InlineKeyboardButton("üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤", callback_data="rating")],
        ]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await update.message.reply_text(message, reply_markup=reply_markup)
    else:
        await update.message.reply_text(message)

# –ö–æ–º–∞–Ω–¥–∞ /rating
async def show_rating(update: Update, context: ContextTypes.DEFAULT_TYPE):
    leaderboard = db.get_leaderboard_with_ties(limit=50)  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ 50 –∏–≥—Ä–æ–∫–æ–≤

    if not leaderboard:
        await update.message.reply_text("üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –ø—É—Å—Ç–∞. –ë—É–¥—å –ø–µ—Ä–≤—ã–º!")
        return

    rating_text = "üèÜ **–¢–ê–ë–õ–ò–¶–ê –õ–ò–î–ï–†–û–í** üèÜ\n\n"
    rating_text += "*–ò–≥—Ä–æ–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –æ—á–∫–∞–º–∏ –¥–µ–ª—è—Ç –º–µ—Å—Ç–æ*\n\n"

    for rank, user_id, first_name, username, items_found, total_points in leaderboard:
        if username:
            name = f"@{username}"
        else:
            name = first_name or "–ê–Ω–æ–Ω–∏–º"

        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ–¥–∞–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–≤—ã—Ö —Ç—Ä–µ—Ö –º–µ—Å—Ç
        medal = ""
        if rank == 1:
            medal = "ü•á"
        elif rank == 2:
            medal = "ü•à"
        elif rank == 3:
            medal = "ü•â"

        rating_text += f"{medal} {rank}. {name}\n"
        rating_text += f"   üéØ –ü—Ä–µ–¥–º–µ—Ç–æ–≤: {items_found} | üí∞ –û—á–∫–æ–≤: {total_points}\n\n"

    # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
    all_users = db.get_leaderboard_with_ties(limit=None)
    rating_text += f"üìä –í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: {len(all_users)}"

    await update.message.reply_text(rating_text)

# –ö–æ–º–∞–Ω–¥–∞ /my_stats
async def show_my_stats(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    items_found, total_points = db.get_user_stats(user.id)

    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–Ω–≥ –∏–≥—Ä–æ–∫–∞ —Å —É—á–µ—Ç–æ–º –Ω–∏—á—å–∏—Ö
    leaderboard = db.get_leaderboard_with_ties(limit=None)
    user_rank = None
    for rank, user_id, _, _, _, _ in leaderboard:
        if user_id == user.id:
            user_rank = rank
            break

    # –°—á–∏—Ç–∞–µ–º —Å–∫–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫–æ–≤ –∏–º–µ—é—Ç —Ç–∞–∫–æ–π –∂–µ —Ä–∞–Ω–≥ (–Ω–∏—á—å—è)
    same_rank_count = 0
    if user_rank:
        for rank, user_id, _, _, _, points in leaderboard:
            if rank == user_rank:
                same_rank_count += 1

    stats_text = f"""
üìä **–¢–í–û–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê**

üë§ –ò–≥—Ä–æ–∫: {user.first_name}
üèÜ –†–∞–Ω–≥ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ: {user_rank if user_rank else "–ù–µ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ"}
{"ü§ù –¢—ã –¥–µ–ª–∏—à—å –º–µ—Å—Ç–æ —Å –¥—Ä—É–≥–∏–º–∏ –∏–≥—Ä–æ–∫–∞–º–∏" if same_rank_count > 1 else ""}
üéØ –ù–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: {items_found}
üí∞ –í—Å–µ–≥–æ –æ—á–∫–æ–≤: {total_points}
"""

    # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∏—á—å–µ –µ—Å–ª–∏ –µ—Å—Ç—å
    if same_rank_count > 1:
        stats_text += f"\nüéØ –¢—ã –¥–µ–ª–∏—à—å {user_rank}-–µ –º–µ—Å—Ç–æ —Å {same_rank_count - 1} –¥—Ä—É–≥–∏–º(–∏–º–∏) –∏–≥—Ä–æ–∫–æ–º(–∞–º–∏)"

    stats_text += "\n\n–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ! üöÄ"

    await update.message.reply_text(stats_text)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ callback –∫–Ω–æ–ø–æ–∫
async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    user = query.from_user

    if query.data == "my_stats":
        items_found, total_points = db.get_user_stats(user.id)

        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–∞–Ω–≥ –¥–ª—è –∫–Ω–æ–ø–∫–∏
        leaderboard = db.get_leaderboard_with_ties(limit=None)
        user_rank = None
        for rank, user_id, _, _, _, _ in leaderboard:
            if user_id == user.id:
                user_rank = rank
                break

        stats_text = f"üìä **–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å**\n\nüèÜ –†–∞–Ω–≥: {user_rank if user_rank else '–ù–µ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ'}\nüéØ –ü—Ä–µ–¥–º–µ—Ç–æ–≤: {items_found}\nüí∞ –û—á–∫–æ–≤: {total_points}"
        await query.edit_message_text(stats_text)

    elif query.data == "rating":
        await show_rating_for_button(query)

async def show_rating_for_button(query):
    leaderboard = db.get_leaderboard_with_ties(limit=10)  # –¢–æ–ª—å–∫–æ —Ç–æ–ø-10 –¥–ª—è –∫–Ω–æ–ø–∫–∏

    rating_text = "üèÜ **–¢–û–ü-10 –ò–ì–†–û–ö–û–í** üèÜ\n\n"
    rating_text += "*–ò–≥—Ä–æ–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –æ—á–∫–∞–º–∏ –¥–µ–ª—è—Ç –º–µ—Å—Ç–æ*\n\n"

    for rank, user_id, first_name, username, items_found, total_points in leaderboard:
        if username:
            name = f"@{username}"
        else:
            name = first_name or "–ê–Ω–æ–Ω–∏–º"

        medal = ""
        if rank == 1: medal = "ü•á"
        elif rank == 2: medal = "ü•à"
        elif rank == 3: medal = "ü•â"

        rating_text += f"{medal} {rank}. {name}\n"
        rating_text += f"   üí∞ –û—á–∫–æ–≤: {total_points}\n\n"

    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—â–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
    all_users_count = len(db.get_leaderboard_with_ties(limit=None))
    rating_text += f"üìä –í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: {all_users_count}"

    await query.edit_message_text(rating_text)

# –ö–æ–º–∞–Ω–¥–∞ /help
async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    help_text = """
üéÆ **–ö–û–ú–ê–ù–î–´ –ë–û–¢–ê-–ö–í–ï–°–¢–ê**

üì± **–ú–µ–Ω—é –∫–æ–º–∞–Ω–¥ (–≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞):**
/start - –ù–∞—á–∞—Ç—å –∫–≤–µ—Å—Ç
/my_stats - –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å
/rating - –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
/help - –ü–æ–º–æ—â—å

üîç **–ö–∞–∫ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å:**
1. –ù–∞—Ö–æ–¥–∏ —Å–ø—Ä—è—Ç–∞–Ω–Ω—ã–µ –≤ –æ—Ñ–∏—Å–∞—Ö QR-–∫–æ–¥—ã
2. –°–∫–∞–Ω–∏—Ä—É–π QR-–∫–æ–¥—ã –∏ –ø—Ä–µ–≤—Ä–∞—â–∞–π –∏—Ö –≤ —ë–ª–æ—á–Ω—ã–µ —É–∫—Ä–∞—à–µ–Ω–∏—è
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–π –æ—á–∫–∏!
4. –°–ª–µ–¥–∏ –∑–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–º
5. –°–æ–∑–¥–∞–π –≤–æ–ª—à–µ–±–Ω–æ–µ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ!

üìä **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞:**
- –ò–≥—Ä–æ–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—á–∫–æ–≤ –¥–µ–ª—è—Ç –º–µ—Å—Ç–æ
- –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –†–µ–π—Ç–∏–Ω–≥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

–£–¥–∞—á–∏ –≤ –ø–æ–∏—Å–∫–∞—Ö! üïµÔ∏è‚Äç‚ôÇÔ∏è
"""
    await update.message.reply_text(help_text)

# –ö–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
async def admin_reset_all(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –≤—Å–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
    user = update.effective_user

    if not is_admin(user.id):
        await update.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã")
        return

    deleted_count = db.reset_all_statistics()
    await update.message.reply_text(f"‚úÖ –í—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–±—Ä–æ—à–µ–Ω–∞! –£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: {deleted_count}")

async def admin_reset_progress(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–°–±—Ä–æ—Å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤)"""
    user = update.effective_user

    if not is_admin(user.id):
        await update.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã")
        return

    deleted_count = db.reset_only_progress()
    await update.message.reply_text(f"‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å–±—Ä–æ—à–µ–Ω! –£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: {deleted_count}")

async def admin_reset_user(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    user = update.effective_user

    if not is_admin(user.id):
        await update.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã")
        return

    if not context.args:
        await update.message.reply_text("‚ùå –£–∫–∞–∂–∏—Ç–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: /reset_user <user_id>")
        return

    try:
        target_user_id = int(context.args[0])
        deleted_count = db.reset_user_statistics(target_user_id)
        await update.message.reply_text(f"‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {target_user_id} —Å–±—Ä–æ—à–µ–Ω–∞! –£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: {deleted_count}")
    except ValueError:
        await update.message.reply_text("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")

async def admin_users_list(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"""
    user = update.effective_user

    if not is_admin(user.id):
        await update.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã")
        return

    users = db.get_all_users()

    if not users:
        await update.message.reply_text("üìù –ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π")
        return

    users_text = "üìã **–°–ü–ò–°–û–ö –£–ß–ê–°–¢–ù–ò–ö–û–í**\n\n"

    for i, (user_id, first_name, username, items_found, total_points) in enumerate(users, 1):
        if username:
            name = f"@{username}"
        else:
            name = first_name or "–ê–Ω–æ–Ω–∏–º"

        users_text += f"{i}. {name}\n"
        users_text += f"   üÜî ID: {user_id}\n"
        users_text += f"   üéØ –ü—Ä–µ–¥–º–µ—Ç–æ–≤: {items_found} | üí∞ –û—á–∫–æ–≤: {total_points}\n\n"

    # –†–∞–∑–±–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ
    if len(users_text) > 4000:
        part1 = users_text[:4000]
        part2 = users_text[4000:]
        await update.message.reply_text(part1)
        await update.message.reply_text(part2)
    else:
        await update.message.reply_text(users_text)

async def admin_export_users(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ CSV —Ñ–∞–π–ª"""
    user = update.effective_user

    if not is_admin(user.id):
        await update.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã")
        return

    try:
        # –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
        participants = db.get_all_participants_detailed()

        if not participants:
            await update.message.reply_text("üìù –ù–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞")
            return

        # –°–æ–∑–¥–∞–µ–º CSV —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç–∏
        output = io.StringIO()
        writer = csv.writer(output)

        # –ó–∞–≥–æ–ª–æ–≤–∫–∏ CSV
        writer.writerow([
            'ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
            'Username',
            '–ò–º—è',
            '–§–∞–º–∏–ª–∏—è',
            '–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏',
            '–ù–∞–π–¥–µ–Ω–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤',
            '–í—Å–µ–≥–æ –æ—á–∫–æ–≤'
        ])

        # –î–∞–Ω–Ω—ã–µ
        for participant in participants:
            user_id, username, first_name, last_name, registered_at, items_found, total_points = participant

            # –ó–∞–º–µ–Ω—è–µ–º None –Ω–∞ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
            username = username or ''
            first_name = first_name or ''
            last_name = last_name or ''

            writer.writerow([
                user_id,
                username,
                first_name,
                last_name,
                registered_at,
                items_found,
                total_points
            ])

        # –ü–µ—Ä–µ–º–µ—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞
        output.seek(0)

        # –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
        csv_data = output.getvalue().encode('utf-8')
        csv_file = io.BytesIO(csv_data)
        csv_file.name = f'participants_export_{datetime.now().strftime("%Y%m%d_%H%M%S")}.csv'

        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–∞–π–ª
        await update.message.reply_document(
            document=csv_file,
            caption=f"üìä –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤\nüë• –í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: {len(participants)}\nüìÖ –î–∞—Ç–∞ –≤—ã–≥—Ä—É–∑–∫–∏: {datetime.now().strftime('%d.%m.%Y %H:%M')}"
        )

        # –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª—ã
        output.close()
        csv_file.close()

    except Exception as e:
        logging.error(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: {e}")
        await update.message.reply_text("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö")

async def admin_help(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–æ–º–æ—â—å –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"""
    user = update.effective_user

    if not is_admin(user.id):
        await update.message.reply_text("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã")
        return

    help_text = """
üõ† **–ö–û–ú–ê–ù–î–´ –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê**

/reset_all - –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –≤—Å–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—É—á–∞—Å—Ç–Ω–∏–∫–∏ + –ø—Ä–æ–≥—Ä–µ—Å—Å)
/reset_progress - –°–±—Ä–æ—Å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã)
/reset_user <user_id> - –°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
/users_list - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å ID
/export_users - –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ CSV —Ñ–∞–π–ª
/admin_help - –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞

üìä **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö:**
–ö–æ–º–∞–Ω–¥–∞ /export_users —Å–æ–∑–¥–∞—Å—Ç CSV —Ñ–∞–π–ª —Å–æ –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö:
- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Username (@–Ω–∏–∫)
- –ò–º—è
- –§–∞–º–∏–ª–∏—è
- –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –í—Å–µ–≥–æ –æ—á–∫–æ–≤

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –ö–æ–º–∞–Ω–¥—ã —Å–±—Ä–æ—Å–∞ –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã! –°–¥–µ–ª–∞–π—Ç–µ backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
"""
    await update.message.reply_text(help_text)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
async def error_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    logging.error(f"–û—à–∏–±–∫–∞: {context.error}")

def main():
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–¥–º–µ—Ç–æ–≤
    initialize_sample_items()
    
    # –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–Ω–æ–≤—ã–π —Å—Ç–∏–ª—å API)
    application = Application.builder().token(BOT_TOKEN).build()
    
    # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("help", help_command))
    application.add_handler(CommandHandler("rating", show_rating))
    application.add_handler(CommandHandler("my_stats", show_my_stats))
    application.add_handler(CallbackQueryHandler(button_handler))
    
    # –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    application.add_handler(CommandHandler("reset_all", admin_reset_all))
    application.add_handler(CommandHandler("reset_progress", admin_reset_progress))
    application.add_handler(CommandHandler("reset_user", admin_reset_user))
    application.add_handler(CommandHandler("users_list", admin_users_list))
    application.add_handler(CommandHandler("export_users", admin_export_users))
    application.add_handler(CommandHandler("admin_help", admin_help))
    
    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (QR-–∫–æ–¥—ã)
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_qr_code))
    
    # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
    application.add_error_handler(error_handler)
    
    # –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–µ–Ω—é –∫–æ–º–∞–Ω–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
    application.post_init = set_bot_commands
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ Render...")
    
    try:
        # –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –≤–µ—Ä—Å–∏–π >=20.0
        application.run_polling(
            drop_pending_updates=True,
            allowed_updates=Update.ALL_TYPES
        )
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ: {e}")
        # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 30 —Å–µ–∫—É–Ω–¥
        import time
        time.sleep(30)
        main()
